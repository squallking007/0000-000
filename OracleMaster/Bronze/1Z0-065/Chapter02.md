# 第二章 Oracleデータベースのインストールおよびデータベースの作成

## 2.1 Oracleデータベース・ソフトウェアのインストール

**OUIの概要とインストールの要件 ★★★**

+ Oracleソフトウェアを**インストールするには、`OUI`を使用する**。

+ `OUI`では、Oracleソフトウェアのインストールに加え、次の作業を行うこともできる。

  + インストールされているOracleソフトウェアの**表示**

  + 使用しないのOracleソフトウェアの**削除**

  + インストールプロセス中のオンラインヘルプの**参照**

+ `OUI`は、Oracleインストール開始する前に、対象のハードウェアやソフトウェアがそれぞれの要件を満たしているか**チェック**する。

+ 前提条件チェック項目

|カテゴリ |チェック項目 |
|---- |---- |
|メモリー |物理メモリー：1GB以上（Windows環境：2GB以上） |
|スワップ領域 |スワップ領域：1.5GB以上 |
|ディスク領域 |・一時領域(/tmp)：1GB以上<br>・Oracleソフトウェア　+　Oracleデータベース用 |
|システム |適切なOSバージョン、バッチの適用、カーネルパラメータ、ファイルシステム形式 |

+ 主な環境変数

|環境変数 |説明 |
|---- |---- |
|ORACLE_BASE |Oracleディレクトリ構造のトップのディレクトリ |
|ORACLE_HOME |Oracleソフトウェアを格納するディレクトリ |
|ORACLE_SID |システム識別子(インスタンス名) <br> 必須の環境変数。1文字以上、12文字以下の英数に設定する。|
|LD_LIBRARY_PATH |共有オブジェクトライブラリを検索するパス |

**Oracleソフトウェアのインストル ★★★**

+ インストル手順略

+ orainstRoot.sh と root.sh

|スクリプト名 |説明 |
|---- |---- |
|orainstRoot.sh |インベントリポインタファイル(/etc/oraInst.loc)を作成するスクリプトです。<br> 該当ファイルが存在しない場合のみ実行を求められる。<br> ファイルにはインベントリの場所と管理グループが記載される。 |
|root.sh |oratabファイル(/etc/oratab)の作成と、環境変数を変更するスクリプト(oraenvとcoraenv)のコピーを行うスクリプトです。<br>oratabファイルには`ORACLE_SID`と`ORACLE_HOME`が記載される。 |

## 2.2 Oracleデータベースの作成

**DBCAを使用した Oracleデータベースの作成 ★★★★★**

+ インストール後に`DBCA`(Oracle Database Configuration Assistant)を使用して手動でデータベースを作成する。

+ `DBCA`(Oracle Database Configuration Assistant)で**データベースを作成**できる。

+ `DBCA`でデータベースを作成する場合、管理するための**グローバル・データベース名**と**SID**を指定する。

+ **グローバル・データベース名**はデータベースを一意に識別するための名前で、通常は「**データベース名.ドメイン名**」の形式で指定する。**ドメイン名は省略可能です**。

+ **SID**はデータベース名と同一の名前を指定することが推奨されている。同一ホストで稼動中の他インスタンスと同じSIDを指定することはできない。

+ データベースの作成には**テンプレート**を使用する。テンプレートは**[ORACLE_HOME]/assisants/dbca/templates**に作成される。

+ テンプレートのうち、「**汎用またはドランザクション処理**」、「**データ・ウェアハウス**」を選択すると、事前構成済のデータベースを作成するには、「**カスタム・データベース**」テンプレートを選択する。

+ データベースで使用する記憶域には「**ファイルシステム**」(デフォルト)、「**自動ストレージ管理(ASM)**」がある。

**DBACを使用したテンプレートの管理 ★★★★★**

+ `DBCA`を使用すると「データベース作成」に加えて、次の処理も実行できる。

  + データベース・オプションの**構成**

  + データベースの**削除**

  + テンプレートの**管理**

  + プラガブル・データベースの**管理**

+ **テンプレートの実体**はXMLファイルです。このファイルにはデータベースの作成に必要な次の情報が含まれている。

  + データベース・オプション

  + 初期化パラメータ

  + 記憶域属性(データファイル、表領域、制御ファイルおよびREDOログ属性)など

+ `DBCA`を使用すると、テンプレートを**作成**および**管理**することができる

+ テンプレートのうち、「**汎用またはドランザクション処理**」、「**データ・ウェアハウス**」 を選択すると、事前構成済のデータベースを作成するには、「**カスタム・データベース**」テンプレートを選択する。

|テンプレート名 |用途 |
|---- |---- |
|汎用またはドランザクション処理<br> デフォルト |多くのユーザーが多数のトランザクション処理を同時に行うオンライントランザクション処理に適したデータベースを構成するためのテンプレート。 |
|データ・ウェアハウス |大量のデータに対して、複雑な問い合わせを実行するオンライン分析処理に適したデータベースを構成するためのテンプレート。 |
|テンプレート名 |処理内容に合わせて、必要な項目を個別に設定する。 |


+ テンプレートにはデータファイルが含まれる「**シートテンプレート**」と、含まれない「**非シートテンプレート**」の2種類がある。

+ テンプレートを使用すると同じ設定を何度も行う必要がなくなるため、データベースをよく速く作成できる。

+ シートテンプレートを使用すると、 **既存のデータベースのクローン(複製)** を迅速に作成できる。

+ テンプレートの設定の中のデータベース・オプションは簡単に**変更**できる。

+ コンピューター間でテンプレートを**コピー**できる。

## リンク

- [ディレクトリ](./../directory.md)

- 前章：[第一章 Oracleデータベース管理の概要](Chapter01.md)

- 次章：[第三章 EM ExpressおよびSQLベースの管理ツールの使用](Chapter03.md)
