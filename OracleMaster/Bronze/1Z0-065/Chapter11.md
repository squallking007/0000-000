# 第十一章 Oracleデータベースソフトウェアの管理

## 11.1 パッチを使用したOracleデータベースソフトウェアの更新

**ソフトウェアの管理とパッチリリース　★★★**

- Oracleデータベースソフトウェア管理では、最新の`パッチ`(修正プログラム)を使用して、Oracleソフトウェアの状態を最新に保つ。

- `パッチ`は、ソフトウェアの不具合を**１つだけ修正する**ためのプログラムです。

- Oracle社によって提供される修正プログラム

|種類 |説明 |
|---- |---- |
|パッチ |インストールされているソフトウェアの不備を１つ修正するプログラム |
|パッチセット |メンテナンスリリースの公開時までにリリースされた一連の製品修正プルグラム |
|個別パッチ |次回のパッチセットリリース前に製品修正プログラムを入手する必要がある顧客に提供される個別のパッチ |

- パッチによっては、オンラインで適用できる「`オンラインパッチ`」もある。

- Oracle Database 提供パッチ

|種類 |説明 |インストール方法 |
|---- |---- |---- |
|PSR<br>Patch Set Release |最も基本的かつ重要なパッチ。<br>数十個以上の不具合修正や拡張機能が含まれる。<br>バージョン番号の４桁目が変更される |OUI |
|PSU<br>Patch set Update |厳選された少ない数の不具合の修正し、最重要セキュリティ修正が含まれる。<br>毎年１月、４月、７月、１０月に定期的に公開される。 |OPatch |
|CPU<br>Critical Patch Update |最需要セキュリティ修正のみが含まれる。<br>毎年１月、４月、７月、１０月に定期的に公開される。 |OPatch |
|個別パッチ<br>One-Off Patch |１つの不具合に対して特別に作成されるパッチ。<br>PSRやPSUなどの既存の集合パッチに修正が含まれず、次回のPSRリリースまで待てないユーザーに向けて作成される。 |OPatch |

- `Cloud Control`を使用したパッチの適用が可能です。`EM Express`にはパッチを適用する機能がない。

## 11.2 データベースのアップグレード

**DBUAを使用したアップグレード　★★**

- 古いバージョンのデータベースは、`DBUA`(Database Upgrade Assistant)を使用して最新バージョンにアップグレードできる。

- `DBUA`は**対話形式**でアップグレードプロセスを実行する。

- `DBUA`はアップグレードを行う前に、次の事前タスクを実行する。

  + 無効なユーザーアカウントまたはろーるをチェックする。

  + 無効なデータ型またはオブジェクトをチェックする。

  + サポートされていないキャラクタセットをチェックする。

  + UNDOセグメント、表領域および開きディスク領域を含め十分なリソースがあるかどうかをチェックする。

  + アップグレードに必要な欠落したSQLスクリプトをチェックする。

  + Database Vaultが有効な場合、Database Vaultを無効にする。

- アップグレード前の事前タスクの実行が完了したら、自動的に次のタスクを実行してデータベースをアップグレードする。

  + 必要な新規表領域の変更または作成

  + 適切なアップグレードスクリプトの起動

  + REDOログのアーカイブ

  + アップグレードフェーズでのアーカイブの無効化(パフォーマンス向上のため)

- `DBUA`では、**サイレンとモード**での操作もサポートされている。

## リンク

- [ディレクトリ](./../directory.md)

- 前章：[第十章 データベースの監視およびアドバイザの使用](Chapter10.md)